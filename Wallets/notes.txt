# Explanation of XPUB, Ledger, and Exchange Usage

## XPUB and Ledger Address Generation  

Ledger devices use a **master public key (XPUB)** for each cryptocurrency account.  
- The XPUB is mathematically derived from the private seed stored on the Ledger.  
- From this XPUB, all public addresses for that account can be derived deterministically (following BIP32 / BIP44 standards).  
- This means every deposit or withdrawal address is connected to the Ledger, even if a new address is shown each time.  

**Limitation:**  
- While the XPUB can generate all addresses, most wallet interfaces (including Ledger Live) only reveal the subset of addresses that have been used.  
- Koinly uses the XPUB connection to track transactions. Even if not every individual address is visible in Ledger Live, the XPUB ensures that the full set of transactions and balances can still be matched correctly.  
- As a result, the Ledger wallet balances in Koinly reconcile with blockchain records, even though not every address is directly visible in Ledger Live’s export.  

---

## Use of Bitrue for XDC Transactions  

XDC (XinFin) was not supported natively on Ledger or most mainstream exchanges at the time.  
- Bitrue was one of the only liquid exchanges where XDC could be traded.  
- Therefore, to trade XDC, the Ledger account was used to **withdraw XDC to Bitrue**, where it was then sold into USDT or paired against other assets.  
- Example: Ledger withdrawals of ~40,147 XDC were sent to Bitrue (as noted in prior transactions) and later sold for ~3,923 USDT.  

This is why some transactions show movement of XDC from Ledger to Bitrue — Bitrue was the intermediary for trading.  

---

## Use of Bittrex for HBAR Purchases  

HBAR (Hedera Hashgraph) was not widely available on major Ledger-compatible exchanges at the time.  
- Bittrex was used as the trading venue to acquire HBAR.  
- The flow was typically: funds (e.g., USDT, BTC, or other crypto) were transferred into Bittrex → used to buy HBAR → then HBAR was withdrawn to the self-custody wallet.  
- This explains how HBAR transactions appear in the Koinly records: the source wallet was Bittrex, not Ledger directly, because Ledger did not support buying HBAR natively.  

---



### Timeline of Events

#### 1️⃣ Deposits from Binance to Your Wallet

- **0xf6d732… (Block 12402776)** – **0.0853 ETH IN**  
  From *Binance 10* → your address **0x7DC269…**  
  Small top-up from Binance.

- **0x54eec9… (Block 12405465)** – **1.8175 ETH IN**  
  From *Binance 4* → **0x7DC269…**  
  Main deposit of ETH from Binance.

Together these equal about **1.90 ETH**, which matches the **1.873 ETH deposit recorded in Koinly** (minor difference is network fees).

---

#### 2️⃣ Attempted Trading on Uniswap (Transaction Reverted)

- **0x4851fb… (Block 12405499)** – **0.0753 ETH OUT (Attempted)**  
  To **Uniswap V3 Router**  
  *This swap failed and was reverted.*  
  **No tokens were exchanged** and the 0.0753 ETH remained in your wallet.  
  **Gas cost:** ~0.017 ETH (only loss from this attempt).

---

#### 3️⃣ Internal “SELF” Transactions

- **0x935934… & 0x354cda… – 0 ETH transfers**  
  “SELF” means internal moves or contract interactions.  
  These are simply internal bookkeeping transactions on Ethereum; no coins changed hands.

---

#### 4️⃣ Withdrawal to Binance (May 10, 2021)

- **0x8b3c88… (Block 12408311)** – **1.8733 ETH OUT**  
  From **0x7DC269…** → **0xE25A0aBD…** (Binance deposit address)  
  **Gas fee:** 0.007 ETH.  
  Matches the Koinly record of a **1.873 ETH deposit into Binance** on 2021-05-10.

---

#### 5️⃣ Later Activity (November 2021)

- **0xc99c30… (Block 13528597)** – **0.2843 ETH IN**  
  From **0x22A3d1…** → **0x7DC269…**  
  Incoming transfer—possibly another wallet you control.

- **0x032252… (Block 13528718)** – **0.2813 ETH OUT**  
  From **0x7DC269…** → **0xE25A0aBD…** (Binance)  
  **Gas fee:** 0.0025 ETH.  
  This is the **Ledger → Binance** transfer recorded in Koinly on 2021-11-01 for 0.2813 ETH.

---

### Overall Story

- ETH came in from Binance (about 1.9 ETH total) to your personal wallet **0x7DC269…**.
- You **attempted a Uniswap v3 swap of 0.075 ETH**, but it **reverted**, so no trade occurred.  
  Only ~0.017 ETH was spent on gas.
- Shortly afterward, you **withdrew almost all funds (1.873 ETH) back to Binance**, paying normal network fees.
- Months later, you **received ~0.284 ETH** (likely from another of your wallets or an exchange) and then **sent ~0.281 ETH back to Binance**.

---

### Key Points for Your Records

* All major in/out flows match the Koinly CSV:
  * **Deposit 1.873 ETH to Binance – 2021-05-10**
  * **Transfer 0.281 ETH Ledger → Binance – 2021-11-01**
* The Uniswap transaction **did not execute**, so there is **no token purchase to account for**—only the gas fee.
* “SELF” transactions are internal Ethereum bookkeeping and don’t represent new deposits or withdrawals.

---



**Suggested Koinly Notes**


## Summary

- **Ledger & XPUB**  
  Ledger accounts derive every public address from a single master public key (XPUB).  
  *Even if Ledger Live only displays used addresses, Koinly can reconcile all transactions and balances from the XPUB.*  
  This ensures your Koinly reports fully match on-chain activity.

- **Bitrue for XDC Trading**  
  XDC was not supported on most major exchanges or in Ledger Live at the time.  
  *Ledger withdrawals of roughly 40,147 XDC were sent to Bitrue and later sold for about 3,923 USDT.*  
  Bitrue served as the required intermediary for buying or selling XDC.

- **Bittrex for HBAR Purchases**  
  When HBAR was first acquired it was only liquid on a few exchanges.  
  *Funds were sent to Bittrex, HBAR was purchased there, and then withdrawn to self-custody wallets.*  
  That is why Koinly shows HBAR transactions sourced from Bittrex rather than Ledger.

- **Metamask / Uniswap Attempt (May 2021)**  
  *Binance → Metamask:* ~1.9 ETH was deposited to wallet **0x7DC269…** (two transactions).  
  *Failed Trade:* A Uniswap v3 swap of 0.075 ETH (tx 0x4851fb…) **reverted**, so no tokens were exchanged; only ~0.017 ETH gas was spent.  
  *Return to Binance:* Almost all ETH (1.873 ETH, tx 0x8b3c88…) was sent back to Binance shortly after.  
  *Later Transfer:* In November 2021, ~0.284 ETH was received (tx 0xc99c30…) and ~0.281 ETH was sent back to Binance (tx 0x032252…).

- **Key Takeaways for Records**  
  * All deposits and withdrawals reconcile with the Koinly CSV.  
  * “SELF” transactions are internal Ethereum bookkeeping and not separate asset movements.  
  * No Uniswap token purchase occurred—only a gas expense.

This single summary covers the Ledger/XPUB mechanics, the need for Bitrue and Bittrex in specific trades, and the full Metamask/Uniswap timeline for accurate auditing and Koinly documentation.
